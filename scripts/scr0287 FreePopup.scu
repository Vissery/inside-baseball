; SCRP 287 FreePopup

if (gPopupState == 0) {
    free-running-script 0
}
run-script FreeScratchImage [gPopupState[4]]
run-script ReleaseSprite [gPopupState[1]]
run-script ReleaseSprite [gPopupState[2]]
run-script ReleaseSprite [gPopupState[3]]
run-script FreePalette [gPopupState[6]]
run-script FreePalette [gPopupState[5]]
gMouseHookScript = 0
if (gPopupState[7]) {
    gMouseHandlerScript = gPopupState[7]
}
free-array gPopupState
free-script
