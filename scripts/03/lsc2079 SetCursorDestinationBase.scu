; LSC2 3 2079 SetCursorDestinationBase

parameter arg0
parameter direction: RunnerDirection
parameter runner_is_batter

local variable local3

local3 = 0
if (!(runner_is_batter && gRunners[gRunnerCursorIndex][R-FORCED]) && !r_smth_fly_caught_runners_must_return && !gRunners[gRunnerCursorIndex][11] && !((gRunners[gRunnerCursorIndex][R-STATE] == R-maybe-returning-after-infield-fly || gPlayEndedReason == PE-INFIELD-FLY) && gRunners[gRunnerCursorIndex][R-DEST-BASE] == NONE)) {
    case arg0 {
        of 74 {
            if (direction == FORWARD) {
                local3 = 85
                gRunnerCursorDestinationBase = FIRST
            } else {
                local3 = 91
                gRunnerCursorDestinationBase = 0
            }
        }
        of 75 {
            if (direction == FORWARD) {
                local3 = 82
                gRunnerCursorDestinationBase = SECOND
            } else {
                local3 = 88
                gRunnerCursorDestinationBase = FIRST
            }
        }
        of 76 {
            if (direction == FORWARD) {
                local3 = 91
                gRunnerCursorDestinationBase = THIRD
            } else {
                local3 = 85
                gRunnerCursorDestinationBase = SECOND
            }
        }
        of 77 {
            if (direction == FORWARD) {
                local3 = 88
                gRunnerCursorDestinationBase = R-HOME
            } else {
                local3 = 82
                gRunnerCursorDestinationBase = THIRD
            }
        }
    }
} else if (gRunners[gRunnerCursorIndex][R-DIRECTION] == FORWARD) {
    if (direction == FORWARD) {
        case arg0 {
            of 74 {
                local3 = 85
                gRunnerCursorDestinationBase = FIRST
            }
            of 75 {
                local3 = 82
                gRunnerCursorDestinationBase = SECOND
            }
            of 76 {
                local3 = 91
                gRunnerCursorDestinationBase = THIRD
            }
            of 77 {
                local3 = 88
                gRunnerCursorDestinationBase = R-HOME
            }
        }
    }
} else if (gRunners[gRunnerCursorIndex][R-DIRECTION] == BACKWARD) {
    if (direction == BACKWARD) {
        case arg0 {
            of 74 {
                local3 = 91
                gRunnerCursorDestinationBase = 0
            }
            of 75 {
                local3 = 88
                gRunnerCursorDestinationBase = FIRST
            }
            of 76 {
                local3 = 85
                gRunnerCursorDestinationBase = SECOND
            }
            of 77 {
                local3 = 82
                gRunnerCursorDestinationBase = THIRD
            }
        }
    }
}
return local3
free-script
