; SCRP 289 PopupMouseHandler

local variable local0
local variable local1

local0 = sprite-get-x2d (iif (gUIInputDevice == INPUT-DEVICE-GAME-PAD) gGamePadX gMouseX) (iif (gUIInputDevice == INPUT-DEVICE-GAME-PAD) gGamePadY gMouseY) 0 0 [32]
if (local0 == gPopupState[2]) {
    local1 = 1
} else if (local0 == gPopupState[3]) {
    local1 = 2
} else {
    free-running-script 0
}
run-script EndPopup [local1]
run-script PlayClickySound []
free-script
